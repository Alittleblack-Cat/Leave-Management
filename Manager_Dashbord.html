<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ระบบจัดการลาหยุดงาน</title>
    <link rel="stylesheet" href="../css/main.css">
   <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen">
    <!-- Header -->
    <div class="text-center mb-8 relative">
        <h class="text-4xl font-bold text-gray-800 mb-2">ระบบจัดการลาหยุดงาน</h>
        <p class="text-gray-600 mb-4">ระบบบริหารจัดการการลาหยุดงานแบบครบวงจร</p>
     </div>
    <!-- Manager Dashboard --><div id="managerDashboard" class="space-y-6"><div class="bg-white rounded-xl shadow-lg p-6"><div class="flex justify-between items-center mb-6"><h2 class="text-2xl font-bold text-gray-800">แดชบอร์ดผู้จัดการ</h2><button onclick="logout()" class="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg">ออกจากระบบ</button></div>
              <!-- Pending Requests (Priority 1) --><div class="mb-6"><h3 class="text-lg font-semibold mb-4 flex items-center"><span class="bg-yellow-100 p-2 rounded-lg mr-3">⏳</span> คำขอที่รออนุมัติ</h3><div id="pendingRequests" class="space-y-3">
                  <!-- Pending requests will be populated here -->
                </div></div>
                <!-- Calendar Management --><div class="mb-6"><h3 class="text-lg font-semibold mb-4">จัดการปฏิทินและวันลา</h3><div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <!-- Lock Calendar --><div class="bg-gray-50 p-4 rounded-lg"><h4 class="font-semibold mb-3">ล็อคปฏิทิน</h4><div class="space-y-3"><div><label class="block text-sm font-medium text-gray-700 mb-1">วันที่เริ่มต้น</label><input type="date" id="lockStartDate" class="w-full px-3 py-2 border border-gray-300 rounded"></div><div><label class="block text-sm font-medium text-gray-700 mb-1">วันที่สิ้นสุด</label><input type="date" id="lockEndDate" class="w-full px-3 py-2 border border-gray-300 rounded"></div><div><label class="block text-sm font-medium text-gray-700 mb-1">เหตุผล</label><input type="text" id="lockReason" placeholder="เช่น วันสำคัญของบริษัท" class="w-full px-3 py-2 border border-gray-300 rounded"></div><button onclick="lockCalendar()" class="w-full bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded">ล็อคปฏิทิน</button></div></div>
                    <!-- Adjust Leave Days --><div class="bg-gray-50 p-4 rounded-lg"><h4 class="font-semibold mb-3">ปรับวันลา</h4><div class="space-y-3"><div><label class="block text-sm font-medium text-gray-700 mb-1">เลือกพนักงาน</label><select id="selectEmployee" class="w-full px-3 py-2 border border-gray-300 rounded"><option value="">-- เลือกพนักงาน --</option></select></div><div id="individualAdjustment" style="display: none;"><div class="space-y-2"><div><label class="block text-sm font-medium text-gray-700 mb-1">ลาพักผ่อน</label><input type="number" id="adjustIndividualVacation" min="0" max="30" class="w-full px-3 py-2 border border-gray-300 rounded"></div><div><label class="block text-sm font-medium text-gray-700 mb-1">ลาป่วย</label><input type="number" id="adjustIndividualSick" min="0" max="60" class="w-full px-3 py-2 border border-gray-300 rounded"></div><div><label class="block text-sm font-medium text-gray-700 mb-1">วันหยุดประจำปี</label><input type="number" id="adjustIndividualAnnual" min="0" max="30" class="w-full px-3 py-2 border border-gray-300 rounded"></div><div><label class="block text-sm font-medium text-gray-700 mb-1">วันหยุดชดเชย</label><input type="number" id="adjustIndividualCompensatory" min="0" max="20" class="w-full px-3 py-2 border border-gray-300 rounded"></div><button onclick="adjustIndividualLeave()" class="w-full bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded">ปรับวันลา</button></div></div>
                        <hr class="my-3"><div><h5 class="font-medium mb-2">ปรับทั้งหมด</h5><div class="grid grid-cols-2 gap-2"><div><label class="block text-xs text-gray-600 mb-1">ลาพักผ่อน</label><input type="number" id="adjustVacation" value="15" min="0" max="30" class="w-full px-2 py-1 border border-gray-300 rounded text-sm"></div><div><label class="block text-xs text-gray-600 mb-1">ลาป่วย</label><input type="number" id="adjustSick" value="30" min="0" max="60" class="w-full px-2 py-1 border border-gray-300 rounded text-sm"></div><div><label class="block text-xs text-gray-600 mb-1">วันหยุดประจำปี</label><input type="number" id="adjustAnnual" value="19" min="0" max="30" class="w-full px-2 py-1 border border-gray-300 rounded text-sm"></div><div><label class="block text-xs text-gray-600 mb-1">วันหยุดชดเชย</label><input type="number" id="adjustCompensatory" value="0" min="0" max="20" class="w-full px-2 py-1 border border-gray-300 rounded text-sm"></div></div><button onclick="adjustAllLeaves()" class="w-full mt-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded">ปรับวันลาทั้งหมด</button></div>
                      </div></div>
                  </div>
                  <!-- Locked Dates Display --><div class="mt-4"><h4 class="font-semibold mb-2">วันที่ถูกล็อค</h4><div id="lockedDates" class="space-y-2">
                      <!-- Locked dates will be displayed here -->
                    </div></div>
                </div>
                <!-- Leave Calendar --><div class="mb-6"><h3 class="text-lg font-semibold mb-4">ปฏิทินการลา</h3><div class="bg-white border rounded-lg p-4"><div id="leaveCalendar" class="grid grid-cols-7 gap-2 text-center">
                      <!-- Calendar will be generated here -->
                    </div><div class="mt-4 flex flex-wrap gap-4 text-sm"><div class="flex items-center"><div class="w-4 h-4 bg-red-200 rounded mr-2"></div>วันที่ล็อค</div><div class="flex items-center"><div class="w-4 h-4 bg-yellow-200 rounded mr-2"></div>มีคนลา 1-2 คน</div><div class="flex items-center"><div class="w-4 h-4 bg-orange-300 rounded mr-2"></div>มีคนลา 3 คน (เต็ม)</div></div></div></div>
                <!-- All Leave Requests --><div><h3 class="text-lg font-semibold mb-4">คำขอทั้งหมด</h3><div id="allRequests" class="space-y-3">
                    <!-- All requests will be populated here -->
                  </div></div>
              </div></div>
</body>
</html>